<p-messages [(value)]="msgs"></p-messages>

<p-confirmDialog
    acceptLabel="OK"
    [closable]="false"
    [style]="{ width: '50vw' }"
></p-confirmDialog>

<div class="top-wrapper">
    <div class="p-grid">
        <div class="p-col-12 p-md-6">
            <h1>
                {{
                    element.uuid
                        ? ('common.edit' | translate)
                        : ('common.create' | translate)
                }}
                {{ 'visitors.uuid' | translate }}
            </h1>
        </div>
        <div class="p-col-12 p-md-6">
            <button
                pButton
                type="button"
                class="p-button-secondary pull-right"
                icon="fa fa-save"
                [pTooltip]="'common.save' | translate"
                (click)="save()"
                [disabled]="!registerForm.valid"
                *ngIf="!element.uuid"
            ></button>
            <button
                pButton
                type="button"
                class="p-button-secondary pull-right"
                icon="fa fa-save"
                [pTooltip]="'common.update' | translate"
                (click)="update()"
                [disabled]="!registerForm.valid"
                *ngIf="element.uuid"
            ></button>
            <button
                pButton
                type="button"
                class="p-button-tertiary pull-right"
                icon="fa fa-trash"
                [pTooltip]="'common.delete' | translate"
                [pTooltip]="'common.delete' | translate"
                tooltipPosition="top"
                (click)="delete()"
                *ngIf="element.uuid"
            ></button>
            <button
                pButton
                type="button"
                class="p-button-primary pull-right"
                icon="fa fa-window-close"
                [label]="'common.cancel' | translate"
                tooltipPosition="top"
                (click)="goToList()"
            ></button>
        </div>
    </div>
</div>

<div class="wrapper">
    <div class="p-grid">
        <div class="p-col-12">
            <form [formGroup]="registerForm">
                <p-card>
                    <div class="p-grid">
                        <div class="p-col-12">
                            <div class="form-group p-grid"
                                style="align-items: center">
                                <div class="p-col-3">
                                    {{ 'visitors.list.fiscalcode' | translate }} (*)
                                </div>

                                <div class="p-col-9">
                                    <input
                                        [(ngModel)]="element.fiscalcode"
                                        formControlName="fiscalcode"
                                        name="fiscalcode"
                                        pInputText
                                        [placeholder]="
                                            'visitors.list.fiscalcode' | translate | lowercase
                                        "
                                        type="text"
                                    />
                                </div>
                            </div>

                            <div class="form-group p-grid"
                                style="align-items: center">
                                <div class="p-col-3">
                                    {{ 'visitors.list.entrance_date' | translate }} (*)
                                </div>

                                <div class="p-col-9">
                                    <input
                                        [(ngModel)]="element.entrance_date"
                                        formControlName="entrance_date"
                                        name="entrance_date"
                                        pInputText
                                        [placeholder]="
                                            'visitors.list.entrance_date' | translate | lowercase
                                        "
                                        type="date"
                                    />
                                </div>
                            </div>

                            <div class="form-group p-grid"
                            style="align-items: center">
                            <div class="p-col-3">
                                {{ 'visitors.list.exit_date' | translate }} (*)
                            </div>

                            <div class="p-col-9">
                                <input
                                    [(ngModel)]="element.exit_date"
                                    formControlName="exit_date"
                                    name="exit_date"
                                    pInputText
                                    [placeholder]="
                                        'visitors.list.exit_date' | translate | lowercase
                                    "
                                    type="date"
                                />
                            </div>
                        </div>

                        </div>
                    </div>
                </p-card>
            </form>
        </div>
    </div>
</div>
